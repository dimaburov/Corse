Документация по развёртыванию приложений: Drone, Gitea, Kanboard

Структура Docker-compose:
	Общая структура конфигурации файла.
	Docker-compose файл начинается с тега версии, у нас это versia "3".
	Раздел, в котором мы описываем сервисы, называется services:
	Указываем название сервиса, например gitea:, это навзание можно выбирать самостоятельно
	В сервисах есть image: - это место откуда мы берём образ приложения.
	Перенаправление поротов в ports:
	volumes: - место на нашем компьюетере, где мы будем хранить данные из образа.
	В networks указываются сети для присединения
	Restart: перезапускает все остановленные и работающие службы при внесении изменений в процесс.
	У нас стоит restart: always - перезапускает системы всегда.
	depends_on: выражает зависимости между службами. Служба может автоматически включать зависимые от неё службы.
	В environment: добавляются перменные среды
		В приложении Drone мы использывали слеюущие переменные среды:
			Ip адресс с портом
			- DRONE_SERVER_HOST=192.168.0.60:81
			Внешняя система протокола
                        - DRONE_SERVER_PROTO=http
			Секрет, который используется для проверки подлинности соединения
			Это случайно созданная строка, которая будет использоваться также и в drone-agent 
                        - DRONE_RPC_SECRET=108e640bbc86cac3be5d86d122
			Эти значения мы берём из OAuth2 в gitea, индификатор и пароль пользоавтеля
                        - DRONE_GITEA_CLIENT_SECRET=xHpdAFmaK4aEXUFNTpzCpaKa5vivyAE5QsetcW_LBlw=
                        - DRONE_GITEA_CLIENT_ID=20ca86f0-8f1f-4535-abdd-4a0a53137413
			Сервер, где запущена gitea
			- DRONE_GITEA_SERVER=http://192.168.0.60:80	
			Данные пользователя gitea
                        - DRONE_USER_CREATE=username:user123,admin:true
		В приложении gitea
			Индификатор пользователя и индификатор группы
			- USER_UID=1000
                        - USER_GID=1000
			Данные, которые будут сразу введены в форме конфигурация при первом запуске
			Говорят о том, что будет использована база данных mysql с заданным пользователем
                        - GITEA__database__DB_TYPE=mysql
                        - GITEA__database__HOST=db:3306
                        - GITEA__database__NAME=gitea
                        - GITEA__database__USER=gitea
                        - GITEA__database__PASSWD=gitea
		В приложении drone-agent
			Внешнее имя хоста или ip адресс
			- DRONE_RPC_HOST=drone:80
			Внешняя схема протокола
                        - DRONE_RPC_PROTO=http
                        - DRONE_RPC_SECRET=108e640bbc86cac3be5d86d122
Описание Docker-file:
	Описание Docker-file для каждого приложения находится в каталоге doc в папке с назаванием совподающим с названим приложения.

Пример настройки проекта:
 	Установка Docker:  https://docs.docker.com/engine/install/debian/ 
	Установка Docker-compose: install docker-compose
	
	Для запуска docker-compose необходимо ввести docker-compose up
	Сайт Gitea открывается по 3000 порту
	Сайт Drone открывается по 81 порту
	Сайт Kanboard открывается по 82 порту
	При первом заходе на сайт gitea необходимо задать некоторые настройки сайта.
	В разделе основные настройки необходимо ввести:
		Домен SSH сервера, он влияет на URL- адресс для клонирования по SSH, например 192.168.0.62
		Порт SSH сервера, нужно указать порт, который использует SSH сервер, например 222
		Gitea HTTP порт, это номер порта, который будет прослушиваться gitea вебсервисом, например 80
		Базовый URL-адресс Gitea, этот парпметр влияет на URL для клонирования по HTTP/HTTPS
	В разделе настройка учётной записи администратора создаём пользователя.
	Нажимаем установить Gitea

	В пиложении gitea нажимаем на создание нового репозитория
		Даём ему название
		Для примера можно выбрать лицензию MIT
		Ветка по умолчанию main
	Для подключения Drone к Gitea создаём OAuth2
	Пишем имя приложения и URI переадресации, например 192.168.0.60:81/login
	Выданные ID клиента и клиентский ключ вставляем в файл docker-compose в сервисе drone
	
	Активируем наш репозиторий в Drone
	В приложении выбираем содание нового файла И вставляем туда код для проверки. В качестве примера роботоспособности
	можно взять код с сайта Drone в разделе Quiq start
	Нажимаем commit

	Переходим на сайт Kanboard
	Авторизируемся под аккаунтом администратора
	Пароль: admin Логин: admin
	
Руководство по использованию инструмента по созданию копий:
	Конфиг по созданию резервных копий и вооставнолению системы из резервной копии лежит в папке backup
	под названием archive. Для запуска конфига необходимо ввести ./archive
	В предложенном меню можно будет выбрать по номерам: 
		0) Выход из меню 
		1) Создание резервной копии
		2) Восстановление системы из резервной копии
	При нажатии 1 - оновные данные скопируются и заархивируется 
	При нажатии 2 появится меню с выбором резервных копий по датам. Выбор осуществляется по вводу номера нужного сохранения из списка.
